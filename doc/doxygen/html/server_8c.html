<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>ECE297 Storage Server: server.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ECE297 Storage Server
   &#160;<span id="projectnumber">0.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">server.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file implements the storage server.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;unistd.h&gt;</code><br/>
<code>#include &lt;sys/types.h&gt;</code><br/>
<code>#include &lt;sys/socket.h&gt;</code><br/>
<code>#include &lt;arpa/inet.h&gt;</code><br/>
<code>#include &lt;netdb.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;assert.h&gt;</code><br/>
<code>#include &lt;signal.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="utils_8h_source.html">utils.h</a>&quot;</code><br/>
<code>#include &lt;time.h&gt;</code><br/>
<code>#include &lt;stdbool.h&gt;</code><br/>
<code>#include &lt;ctype.h&gt;</code><br/>
<code>#include &lt;math.h&gt;</code><br/>
<code>#include &lt;sys/resource.h&gt;</code><br/>
<code>#include &lt;sys/stat.h&gt;</code><br/>
<code>#include &lt;pthread.h&gt;</code><br/>
</div>
<p><a href="server_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a36b090ddf192f97d9fecf8ff5a98996e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a36b090ddf192f97d9fecf8ff5a98996e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a36b090ddf192f97d9fecf8ff5a98996e">MAX_LISTENQUEUELEN</a>&#160;&#160;&#160;20</td></tr>
<tr class="memdesc:a36b090ddf192f97d9fecf8ff5a98996e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum number of queued connections. <br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac4345ba7989eed70b19d584d8df55d7e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#ac4345ba7989eed70b19d584d8df55d7e">key_exist</a> (char key_to_search_for[<a class="el" href="storage_8h.html#ad91bfaf106e42aa552f1605c5b8a9ef2">MAX_KEY_LEN</a>], int first_empty, int table_num)</td></tr>
<tr class="memdesc:ac4345ba7989eed70b19d584d8df55d7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if key exists in the server.  <a href="#ac4345ba7989eed70b19d584d8df55d7e"></a><br/></td></tr>
<tr class="memitem:abd2fb51ab5a17288cdf4d0c2ffc6beb3"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#abd2fb51ab5a17288cdf4d0c2ffc6beb3">get_column_type</a> (char column_name[<a class="el" href="storage_8h.html#a5cced553ee7679aebe25952d79c7b86b">MAX_COLNAME_LEN</a>], int num_columns, int table_num, char mycolumns[<a class="el" href="storage_8h.html#a6f4cdd0162e9f2ab251fa5b23410c8da">MAX_TABLES</a>][<a class="el" href="storage_8h.html#a2c806bc7de304d1d07bb12c9d58dbdd1">MAX_COLUMNS_PER_TABLE</a>][<a class="el" href="storage_8h.html#a5cced553ee7679aebe25952d79c7b86b">MAX_COLNAME_LEN</a>], char column_types[<a class="el" href="storage_8h.html#a6f4cdd0162e9f2ab251fa5b23410c8da">MAX_TABLES</a>][<a class="el" href="storage_8h.html#a2c806bc7de304d1d07bb12c9d58dbdd1">MAX_COLUMNS_PER_TABLE</a>][10])</td></tr>
<tr class="memdesc:abd2fb51ab5a17288cdf4d0c2ffc6beb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the name of the column based on name given to search for.  <a href="#abd2fb51ab5a17288cdf4d0c2ffc6beb3"></a><br/></td></tr>
<tr class="memitem:a6d7947e031e9aefdd998ebb9872b0a89"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a6d7947e031e9aefdd998ebb9872b0a89">split_query_get_column</a> (char pred[<a class="el" href="storage_8h.html#a00a29850f2b5b985f776f864d83e5ac3">MAX_VALUE_LEN</a>], char ret[<a class="el" href="storage_8h.html#a00a29850f2b5b985f776f864d83e5ac3">MAX_VALUE_LEN</a>])</td></tr>
<tr class="memdesc:a6d7947e031e9aefdd998ebb9872b0a89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the column name from a query predicate.  <a href="#a6d7947e031e9aefdd998ebb9872b0a89"></a><br/></td></tr>
<tr class="memitem:aa95f1890335c4fc794e4566d8ae3ad61"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#aa95f1890335c4fc794e4566d8ae3ad61">split_query_get_value</a> (char pred[<a class="el" href="storage_8h.html#a00a29850f2b5b985f776f864d83e5ac3">MAX_VALUE_LEN</a>], char ret[<a class="el" href="storage_8h.html#a00a29850f2b5b985f776f864d83e5ac3">MAX_VALUE_LEN</a>])</td></tr>
<tr class="memdesc:aa95f1890335c4fc794e4566d8ae3ad61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the comparison value from a query predicate.  <a href="#aa95f1890335c4fc794e4566d8ae3ad61"></a><br/></td></tr>
<tr class="memitem:a06798d058792d39a2eb6f3b784ae1532"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a06798d058792d39a2eb6f3b784ae1532">trim</a> (char *str)</td></tr>
<tr class="memdesc:a06798d058792d39a2eb6f3b784ae1532"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove whitespace from beginning and end of string.  <a href="#a06798d058792d39a2eb6f3b784ae1532"></a><br/></td></tr>
<tr class="memitem:a26122d608fea873614895976a63dea05"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a26122d608fea873614895976a63dea05">has_table</a> (char table_name[<a class="el" href="storage_8h.html#ae7854bc280576d57ec5c80995d5ea94c">MAX_TABLE_LEN</a>])</td></tr>
<tr class="memdesc:a26122d608fea873614895976a63dea05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if table exists in the server.  <a href="#a26122d608fea873614895976a63dea05"></a><br/></td></tr>
<tr class="memitem:a987d9928862a44ca91238947d84362f6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a987d9928862a44ca91238947d84362f6">has_column</a> (char col_to_search[<a class="el" href="storage_8h.html#a5cced553ee7679aebe25952d79c7b86b">MAX_COLNAME_LEN</a>], char mycolumns[<a class="el" href="storage_8h.html#a6f4cdd0162e9f2ab251fa5b23410c8da">MAX_TABLES</a>][<a class="el" href="storage_8h.html#a2c806bc7de304d1d07bb12c9d58dbdd1">MAX_COLUMNS_PER_TABLE</a>][<a class="el" href="storage_8h.html#a5cced553ee7679aebe25952d79c7b86b">MAX_COLNAME_LEN</a>], int num_columns, int table_num)</td></tr>
<tr class="memdesc:a987d9928862a44ca91238947d84362f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if table exists in the server.  <a href="#a987d9928862a44ca91238947d84362f6"></a><br/></td></tr>
<tr class="memitem:ac2d55273fd82b8bf4c0ebc7b981a67e4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#ac2d55273fd82b8bf4c0ebc7b981a67e4">check_column_types</a> (char val_to_set[<a class="el" href="storage_8h.html#a00a29850f2b5b985f776f864d83e5ac3">MAX_VALUE_LEN</a>], int num_columns, int table_num, char column_types[<a class="el" href="storage_8h.html#a6f4cdd0162e9f2ab251fa5b23410c8da">MAX_TABLES</a>][<a class="el" href="storage_8h.html#a2c806bc7de304d1d07bb12c9d58dbdd1">MAX_COLUMNS_PER_TABLE</a>][10])</td></tr>
<tr class="memdesc:ac2d55273fd82b8bf4c0ebc7b981a67e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the column types match the values given.  <a href="#ac2d55273fd82b8bf4c0ebc7b981a67e4"></a><br/></td></tr>
<tr class="memitem:a05ed999d057f20b4305dbb49f1feaece"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a05ed999d057f20b4305dbb49f1feaece">check_mycolumns</a> (char val_to_set[<a class="el" href="storage_8h.html#a00a29850f2b5b985f776f864d83e5ac3">MAX_VALUE_LEN</a>], int num_columns, int table_num, char mycolumns[<a class="el" href="storage_8h.html#a6f4cdd0162e9f2ab251fa5b23410c8da">MAX_TABLES</a>][<a class="el" href="storage_8h.html#a2c806bc7de304d1d07bb12c9d58dbdd1">MAX_COLUMNS_PER_TABLE</a>][<a class="el" href="storage_8h.html#a5cced553ee7679aebe25952d79c7b86b">MAX_COLNAME_LEN</a>])</td></tr>
<tr class="memdesc:a05ed999d057f20b4305dbb49f1feaece"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the value has the correct matching column names.  <a href="#a05ed999d057f20b4305dbb49f1feaece"></a><br/></td></tr>
<tr class="memitem:aca78ee0cd989674d75af0350dd141319"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#aca78ee0cd989674d75af0350dd141319">num_col_val</a> (char val_to_set[<a class="el" href="storage_8h.html#a00a29850f2b5b985f776f864d83e5ac3">MAX_VALUE_LEN</a>], int num_columns)</td></tr>
<tr class="memdesc:aca78ee0cd989674d75af0350dd141319"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the value has the correct number of columns.  <a href="#aca78ee0cd989674d75af0350dd141319"></a><br/></td></tr>
<tr class="memitem:acd5ca6d0d7a4ef941fc7fb68fcfc84a6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#acd5ca6d0d7a4ef941fc7fb68fcfc84a6">parse_value</a> (char val_to_set[<a class="el" href="storage_8h.html#a00a29850f2b5b985f776f864d83e5ac3">MAX_VALUE_LEN</a>], int table_num)</td></tr>
<tr class="memdesc:acd5ca6d0d7a4ef941fc7fb68fcfc84a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the value passes all parsing.  <a href="#acd5ca6d0d7a4ef941fc7fb68fcfc84a6"></a><br/></td></tr>
<tr class="memitem:a3d464ce1a95d6883220042500f998eb7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a3d464ce1a95d6883220042500f998eb7">check_predicates</a> (char predicates[<a class="el" href="storage_8h.html#a00a29850f2b5b985f776f864d83e5ac3">MAX_VALUE_LEN</a>], int num_columns, int table_num, char mycolumns[<a class="el" href="storage_8h.html#a6f4cdd0162e9f2ab251fa5b23410c8da">MAX_TABLES</a>][<a class="el" href="storage_8h.html#a2c806bc7de304d1d07bb12c9d58dbdd1">MAX_COLUMNS_PER_TABLE</a>][<a class="el" href="storage_8h.html#a5cced553ee7679aebe25952d79c7b86b">MAX_COLNAME_LEN</a>], char column_types[<a class="el" href="storage_8h.html#a6f4cdd0162e9f2ab251fa5b23410c8da">MAX_TABLES</a>][<a class="el" href="storage_8h.html#a2c806bc7de304d1d07bb12c9d58dbdd1">MAX_COLUMNS_PER_TABLE</a>][10], int num_pred)</td></tr>
<tr class="memdesc:a3d464ce1a95d6883220042500f998eb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if all the predicates in the string are formatted correctly.  <a href="#a3d464ce1a95d6883220042500f998eb7"></a><br/></td></tr>
<tr class="memitem:a2a84645f2f244d5751250b88b21be88c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a2a84645f2f244d5751250b88b21be88c">check_mycolumns_pred</a> (char pred_to_set[<a class="el" href="storage_8h.html#a00a29850f2b5b985f776f864d83e5ac3">MAX_VALUE_LEN</a>], int num_columns, int table_num, char mycolumns[<a class="el" href="storage_8h.html#a6f4cdd0162e9f2ab251fa5b23410c8da">MAX_TABLES</a>][<a class="el" href="storage_8h.html#a2c806bc7de304d1d07bb12c9d58dbdd1">MAX_COLUMNS_PER_TABLE</a>][<a class="el" href="storage_8h.html#a5cced553ee7679aebe25952d79c7b86b">MAX_COLNAME_LEN</a>], int num_pred)</td></tr>
<tr class="memdesc:a2a84645f2f244d5751250b88b21be88c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the predicate has the correct matching column names.  <a href="#a2a84645f2f244d5751250b88b21be88c"></a><br/></td></tr>
<tr class="memitem:ad9859876442b8f4c102395051e87a818"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#ad9859876442b8f4c102395051e87a818">num_of_predicates</a> (char predicates[<a class="el" href="storage_8h.html#a00a29850f2b5b985f776f864d83e5ac3">MAX_VALUE_LEN</a>], int num_columns)</td></tr>
<tr class="memdesc:ad9859876442b8f4c102395051e87a818"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the predicate string has the correct number of predicates.  <a href="#ad9859876442b8f4c102395051e87a818"></a><br/></td></tr>
<tr class="memitem:adbcf898f1e1bcdf0a798e15fe0cdfb4c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#adbcf898f1e1bcdf0a798e15fe0cdfb4c">parse_predicates</a> (char predicates[<a class="el" href="storage_8h.html#a00a29850f2b5b985f776f864d83e5ac3">MAX_VALUE_LEN</a>], int table_num)</td></tr>
<tr class="memdesc:adbcf898f1e1bcdf0a798e15fe0cdfb4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Umbrella function for all predicate parsing.  <a href="#adbcf898f1e1bcdf0a798e15fe0cdfb4c"></a><br/></td></tr>
<tr class="memitem:af514264bb0a833600274010d575cdcc1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#af514264bb0a833600274010d575cdcc1">get_command</a> (char key_to_get[<a class="el" href="storage_8h.html#ad91bfaf106e42aa552f1605c5b8a9ef2">MAX_KEY_LEN</a>], char value_to_get[<a class="el" href="storage_8h.html#a00a29850f2b5b985f776f864d83e5ac3">MAX_VALUE_LEN</a>], int first_empty, int table_num)</td></tr>
<tr class="memdesc:af514264bb0a833600274010d575cdcc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the specified value based on the key_to_get.  <a href="#af514264bb0a833600274010d575cdcc1"></a><br/></td></tr>
<tr class="memitem:aed6550876e909ec97ea92f06f2ba5d3f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aed6550876e909ec97ea92f06f2ba5d3f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>get_command_perm</b> (char key_to_get[<a class="el" href="storage_8h.html#ad91bfaf106e42aa552f1605c5b8a9ef2">MAX_KEY_LEN</a>], FILE *fileLoadData, char value_to_get[<a class="el" href="storage_8h.html#a00a29850f2b5b985f776f864d83e5ac3">MAX_VALUE_LEN</a>])</td></tr>
<tr class="memitem:a258d8e2aa2d879c6a9d06f864773a68a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a258d8e2aa2d879c6a9d06f864773a68a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>get_command_specific_perm</b> (int lineNumber, FILE *fileLoadData, char value_to_get[<a class="el" href="storage_8h.html#a00a29850f2b5b985f776f864d83e5ac3">MAX_VALUE_LEN</a>])</td></tr>
<tr class="memitem:a309d3355e6dbf8291c56a848b0ec5c31"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a309d3355e6dbf8291c56a848b0ec5c31">set_command</a> (char key_to_set[<a class="el" href="storage_8h.html#ad91bfaf106e42aa552f1605c5b8a9ef2">MAX_KEY_LEN</a>], char value_to_set[<a class="el" href="storage_8h.html#a00a29850f2b5b985f776f864d83e5ac3">MAX_VALUE_LEN</a>], int first_empty, int table_num)</td></tr>
<tr class="memdesc:a309d3355e6dbf8291c56a848b0ec5c31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the item using key_to_set and value_to_set.  <a href="#a309d3355e6dbf8291c56a848b0ec5c31"></a><br/></td></tr>
<tr class="memitem:abfe29c8cb2e722379fc7d75f69d391db"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abfe29c8cb2e722379fc7d75f69d391db"></a>
char *&#160;</td><td class="memItemRight" valign="bottom"><b>set_command_perm</b> (char key_to_set[<a class="el" href="storage_8h.html#ad91bfaf106e42aa552f1605c5b8a9ef2">MAX_KEY_LEN</a>], char value_to_set[<a class="el" href="storage_8h.html#a00a29850f2b5b985f776f864d83e5ac3">MAX_VALUE_LEN</a>], FILE *fileLoadData, FILE *fileWriteData)</td></tr>
<tr class="memitem:a28f4d703d02316c3d135d6b7f0c5bcf5"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a28f4d703d02316c3d135d6b7f0c5bcf5">update_command</a> (char key_to_update[<a class="el" href="storage_8h.html#ad91bfaf106e42aa552f1605c5b8a9ef2">MAX_KEY_LEN</a>], char value_to_update[<a class="el" href="storage_8h.html#a00a29850f2b5b985f776f864d83e5ac3">MAX_VALUE_LEN</a>], int record_loc, int table_num, unsigned long int meta_data_recieved)</td></tr>
<tr class="memdesc:a28f4d703d02316c3d135d6b7f0c5bcf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the item using key_to_set and value_to_set.  <a href="#a28f4d703d02316c3d135d6b7f0c5bcf5"></a><br/></td></tr>
<tr class="memitem:ad8349c60c5abdbf00dcab7345afa05e9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#ad8349c60c5abdbf00dcab7345afa05e9">get_column_index</a> (char column_name[<a class="el" href="storage_8h.html#a5cced553ee7679aebe25952d79c7b86b">MAX_COLNAME_LEN</a>], char mycolumns[<a class="el" href="storage_8h.html#a6f4cdd0162e9f2ab251fa5b23410c8da">MAX_TABLES</a>][<a class="el" href="storage_8h.html#a2c806bc7de304d1d07bb12c9d58dbdd1">MAX_COLUMNS_PER_TABLE</a>][<a class="el" href="storage_8h.html#a5cced553ee7679aebe25952d79c7b86b">MAX_COLNAME_LEN</a>], int table_num)</td></tr>
<tr class="memdesc:ad8349c60c5abdbf00dcab7345afa05e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the index of the column based on the column name given.  <a href="#ad8349c60c5abdbf00dcab7345afa05e9"></a><br/></td></tr>
<tr class="memitem:a519be3c2060d135f0e4690cace0dd1e0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a519be3c2060d135f0e4690cace0dd1e0">predicate_true</a> (char predicate[<a class="el" href="storage_8h.html#a00a29850f2b5b985f776f864d83e5ac3">MAX_VALUE_LEN</a>], int table_num, int column_index, int row_index, char column_types[<a class="el" href="storage_8h.html#a6f4cdd0162e9f2ab251fa5b23410c8da">MAX_TABLES</a>][<a class="el" href="storage_8h.html#a2c806bc7de304d1d07bb12c9d58dbdd1">MAX_COLUMNS_PER_TABLE</a>][10])</td></tr>
<tr class="memdesc:a519be3c2060d135f0e4690cace0dd1e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the value in the row index and column index passes the predicate.  <a href="#a519be3c2060d135f0e4690cace0dd1e0"></a><br/></td></tr>
<tr class="memitem:a6e9e0f6665f56b589c8d04c20fa71f7c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6e9e0f6665f56b589c8d04c20fa71f7c"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>predicate_true_perm</b> (char predicate[<a class="el" href="storage_8h.html#a00a29850f2b5b985f776f864d83e5ac3">MAX_VALUE_LEN</a>], char lineFromFile[<a class="el" href="storage_8h.html#a00a29850f2b5b985f776f864d83e5ac3">MAX_VALUE_LEN</a>], int table_num, int column_index, int row_index, char column_types[<a class="el" href="storage_8h.html#a6f4cdd0162e9f2ab251fa5b23410c8da">MAX_TABLES</a>][<a class="el" href="storage_8h.html#a2c806bc7de304d1d07bb12c9d58dbdd1">MAX_COLUMNS_PER_TABLE</a>][10])</td></tr>
<tr class="memitem:a4264cba8f8610bb4ddc9046cd7c9e00e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a4264cba8f8610bb4ddc9046cd7c9e00e">predicates_true</a> (char predicates[<a class="el" href="storage_8h.html#a00a29850f2b5b985f776f864d83e5ac3">MAX_VALUE_LEN</a>], int num_columns, int table_num, char mycolumns[<a class="el" href="storage_8h.html#a6f4cdd0162e9f2ab251fa5b23410c8da">MAX_TABLES</a>][<a class="el" href="storage_8h.html#a2c806bc7de304d1d07bb12c9d58dbdd1">MAX_COLUMNS_PER_TABLE</a>][<a class="el" href="storage_8h.html#a5cced553ee7679aebe25952d79c7b86b">MAX_COLNAME_LEN</a>], char column_types[<a class="el" href="storage_8h.html#a6f4cdd0162e9f2ab251fa5b23410c8da">MAX_TABLES</a>][<a class="el" href="storage_8h.html#a2c806bc7de304d1d07bb12c9d58dbdd1">MAX_COLUMNS_PER_TABLE</a>][10], int row_index)</td></tr>
<tr class="memdesc:a4264cba8f8610bb4ddc9046cd7c9e00e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the value in the row index and column index passes the predicates.  <a href="#a4264cba8f8610bb4ddc9046cd7c9e00e"></a><br/></td></tr>
<tr class="memitem:abb45c07a82a6776d83eed8001a39409b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abb45c07a82a6776d83eed8001a39409b"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>predicates_true_perm</b> (char predicates[<a class="el" href="storage_8h.html#a00a29850f2b5b985f776f864d83e5ac3">MAX_VALUE_LEN</a>], char lineFromFile[<a class="el" href="storage_8h.html#a00a29850f2b5b985f776f864d83e5ac3">MAX_VALUE_LEN</a>], int num_columns, int table_num, char mycolumns[<a class="el" href="storage_8h.html#a6f4cdd0162e9f2ab251fa5b23410c8da">MAX_TABLES</a>][<a class="el" href="storage_8h.html#a2c806bc7de304d1d07bb12c9d58dbdd1">MAX_COLUMNS_PER_TABLE</a>][<a class="el" href="storage_8h.html#a5cced553ee7679aebe25952d79c7b86b">MAX_COLNAME_LEN</a>], char column_types[<a class="el" href="storage_8h.html#a6f4cdd0162e9f2ab251fa5b23410c8da">MAX_TABLES</a>][<a class="el" href="storage_8h.html#a2c806bc7de304d1d07bb12c9d58dbdd1">MAX_COLUMNS_PER_TABLE</a>][10], int row_index)</td></tr>
<tr class="memitem:a4ec1795948f7486ad7eefbf10cf1b8ff"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a4ec1795948f7486ad7eefbf10cf1b8ff">query_command</a> (int sock, char predicates[<a class="el" href="storage_8h.html#a00a29850f2b5b985f776f864d83e5ac3">MAX_VALUE_LEN</a>], int first_empty, int table_num, int num_columns, char mycolumns[<a class="el" href="storage_8h.html#a6f4cdd0162e9f2ab251fa5b23410c8da">MAX_TABLES</a>][<a class="el" href="storage_8h.html#a2c806bc7de304d1d07bb12c9d58dbdd1">MAX_COLUMNS_PER_TABLE</a>][<a class="el" href="storage_8h.html#a5cced553ee7679aebe25952d79c7b86b">MAX_COLNAME_LEN</a>], char column_types[<a class="el" href="storage_8h.html#a6f4cdd0162e9f2ab251fa5b23410c8da">MAX_TABLES</a>][<a class="el" href="storage_8h.html#a2c806bc7de304d1d07bb12c9d58dbdd1">MAX_COLUMNS_PER_TABLE</a>][10])</td></tr>
<tr class="memdesc:a4ec1795948f7486ad7eefbf10cf1b8ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query the table for matching values.  <a href="#a4ec1795948f7486ad7eefbf10cf1b8ff"></a><br/></td></tr>
<tr class="memitem:ac5e4ef16444695421dd966660c9d1f9e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac5e4ef16444695421dd966660c9d1f9e"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>query_command_perm</b> (int sock, char predicates[<a class="el" href="storage_8h.html#a00a29850f2b5b985f776f864d83e5ac3">MAX_VALUE_LEN</a>], int table_num, int num_columns, char mycolumns[<a class="el" href="storage_8h.html#a6f4cdd0162e9f2ab251fa5b23410c8da">MAX_TABLES</a>][<a class="el" href="storage_8h.html#a2c806bc7de304d1d07bb12c9d58dbdd1">MAX_COLUMNS_PER_TABLE</a>][<a class="el" href="storage_8h.html#a5cced553ee7679aebe25952d79c7b86b">MAX_COLNAME_LEN</a>], char column_types[<a class="el" href="storage_8h.html#a6f4cdd0162e9f2ab251fa5b23410c8da">MAX_TABLES</a>][<a class="el" href="storage_8h.html#a2c806bc7de304d1d07bb12c9d58dbdd1">MAX_COLUMNS_PER_TABLE</a>][10], FILE *fileToLoad)</td></tr>
<tr class="memitem:af53cf2c3031be8151cbc8f6833effef0"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#af53cf2c3031be8151cbc8f6833effef0">delete_command</a> (char key_to_delete[<a class="el" href="storage_8h.html#ad91bfaf106e42aa552f1605c5b8a9ef2">MAX_KEY_LEN</a>], int first_empty, int table_num, int num_columns, char mycolumns[<a class="el" href="storage_8h.html#a6f4cdd0162e9f2ab251fa5b23410c8da">MAX_TABLES</a>][<a class="el" href="storage_8h.html#a2c806bc7de304d1d07bb12c9d58dbdd1">MAX_COLUMNS_PER_TABLE</a>][<a class="el" href="storage_8h.html#a5cced553ee7679aebe25952d79c7b86b">MAX_COLNAME_LEN</a>])</td></tr>
<tr class="memdesc:af53cf2c3031be8151cbc8f6833effef0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete the item in the server based on key_to_delete.  <a href="#af53cf2c3031be8151cbc8f6833effef0"></a><br/></td></tr>
<tr class="memitem:a9cfd9f5eabc050fa9524187fd45e2118"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9cfd9f5eabc050fa9524187fd45e2118"></a>
char *&#160;</td><td class="memItemRight" valign="bottom"><b>delete_command_perm</b> (char key_to_set[<a class="el" href="storage_8h.html#ad91bfaf106e42aa552f1605c5b8a9ef2">MAX_KEY_LEN</a>], FILE *fileLoadData, FILE *fileWriteData)</td></tr>
<tr class="memitem:a9776ce9ec28df0e16fba102c8c0f44c6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a9776ce9ec28df0e16fba102c8c0f44c6">handle_command</a> (int sock, char cmd[<a class="el" href="utils_8h.html#a1eb73c104b484cf18752169509cebfe2">MAX_CMD_LEN</a>], int *auth_var)</td></tr>
<tr class="memdesc:a9776ce9ec28df0e16fba102c8c0f44c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process a command from the client.  <a href="#a9776ce9ec28df0e16fba102c8c0f44c6"></a><br/></td></tr>
<tr class="memitem:a9577d2599b18e4680156b949c3683bcc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9577d2599b18e4680156b949c3683bcc"></a>
void *&#160;</td><td class="memItemRight" valign="bottom"><b>handle_client</b> (void *arg)</td></tr>
<tr class="memitem:a0ddf1224851353fc92bfbff6f499fa97"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main</a> (int argc, char *argv[])</td></tr>
<tr class="memdesc:a0ddf1224851353fc92bfbff6f499fa97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the storage server.  <a href="#a0ddf1224851353fc92bfbff6f499fa97"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab6ebd8242ee8635563a21bacbfa2b9f5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab6ebd8242ee8635563a21bacbfa2b9f5"></a>
FILE *&#160;</td><td class="memItemRight" valign="bottom"><b>fserverOut</b></td></tr>
<tr class="memitem:a2dfd2662dbe26868150e972b516e375a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2dfd2662dbe26868150e972b516e375a"></a>
struct <a class="el" href="structserver__record.html">server_record</a>&#160;</td><td class="memItemRight" valign="bottom"><b>tables</b> [<a class="el" href="storage_8h.html#a6f4cdd0162e9f2ab251fa5b23410c8da">MAX_TABLES</a>][<a class="el" href="storage_8h.html#ad02d7128cbc04a5ec5ee79c6beb66730">MAX_RECORDS_PER_TABLE</a>]</td></tr>
<tr class="memitem:a47967abd748788b07b5408e2daf7a0aa"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a47967abd748788b07b5408e2daf7a0aa"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>first_empty</b> [<a class="el" href="storage_8h.html#a6f4cdd0162e9f2ab251fa5b23410c8da">MAX_TABLES</a>]</td></tr>
<tr class="memitem:a0df479ae945ee930deb719f1d4451b84"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0df479ae945ee930deb719f1d4451b84"></a>
struct <a class="el" href="structconfig__params.html">config_params</a>&#160;</td><td class="memItemRight" valign="bottom"><b>params</b></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This file implements the storage server. </p>
<p>The storage server should be named "server" and should take a single command line argument that refers to the configuration file.</p>
<p>The storage server should be able to communicate with the client library functions declared in <a class="el" href="storage_8h.html" title="This file defines the interface between the storage client and server.">storage.h</a> and implemented in <a class="el" href="storage_8c.html" title="This file contains the implementation of the storage server interface as specified in storage...">storage.c</a>. </p>

<p>Definition in file <a class="el" href="server_8c_source.html">server.c</a>.</p>
</div><h2>Function Documentation</h2>
<a class="anchor" id="ac2d55273fd82b8bf4c0ebc7b981a67e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int check_column_types </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>val_to_set</em>[MAX_VALUE_LEN], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>table_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>column_types</em>[MAX_TABLES][MAX_COLUMNS_PER_TABLE][10]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the column types match the values given. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val_to_set</td><td>value to parse </td></tr>
    <tr><td class="paramname">num_columns</td><td>number of columns for the table </td></tr>
    <tr><td class="paramname">table_num</td><td>index of the table parsing </td></tr>
    <tr><td class="paramname">column_types</td><td>types of the columns </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns true(1) if all column types match, false(0) if it doesn't </dd></dl>

<p>Definition at line <a class="el" href="server_8c_source.html#l00260">260</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

<p>References <a class="el" href="utils_8c_source.html#l00168">get_param()</a>, and <a class="el" href="storage_8h_source.html#l00036">MAX_VALUE_LEN</a>.</p>

<p>Referenced by <a class="el" href="server_8c_source.html#l00427">parse_value()</a>.</p>

</div>
</div>
<a class="anchor" id="a05ed999d057f20b4305dbb49f1feaece"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int check_mycolumns </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>val_to_set</em>[MAX_VALUE_LEN], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>table_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>mycolumns</em>[MAX_TABLES][MAX_COLUMNS_PER_TABLE][MAX_COLNAME_LEN]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the value has the correct matching column names. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val_to_set</td><td>value to parse </td></tr>
    <tr><td class="paramname">num_columns</td><td>number of columns for the table </td></tr>
    <tr><td class="paramname">table_num</td><td>index of the table parsing </td></tr>
    <tr><td class="paramname">mycolumns</td><td>names of the columns </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns true(1) if all column names match, false(-1) if it doesn't </dd></dl>

<p>Definition at line <a class="el" href="server_8c_source.html#l00360">360</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

<p>References <a class="el" href="utils_8c_source.html#l00168">get_param()</a>, and <a class="el" href="storage_8h_source.html#l00036">MAX_VALUE_LEN</a>.</p>

<p>Referenced by <a class="el" href="server_8c_source.html#l00427">parse_value()</a>.</p>

</div>
</div>
<a class="anchor" id="a2a84645f2f244d5751250b88b21be88c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int check_mycolumns_pred </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>pred_to_set</em>[MAX_VALUE_LEN], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>table_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>mycolumns</em>[MAX_TABLES][MAX_COLUMNS_PER_TABLE][MAX_COLNAME_LEN], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_pred</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the predicate has the correct matching column names. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pred_to_set</td><td>predicate to parse </td></tr>
    <tr><td class="paramname">num_columns</td><td>number of columns for the table </td></tr>
    <tr><td class="paramname">table_num</td><td>index of the table parsing </td></tr>
    <tr><td class="paramname">mycolumns</td><td>names of the columns </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns true(1) if all column names match, false(-1) if it doesn't </dd></dl>

<p>Definition at line <a class="el" href="server_8c_source.html#l00514">514</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

<p>References <a class="el" href="utils_8c_source.html#l00168">get_param()</a>, <a class="el" href="server_8c_source.html#l00235">has_column()</a>, <a class="el" href="storage_8h_source.html#l00036">MAX_VALUE_LEN</a>, <a class="el" href="server_8c_source.html#l00103">split_query_get_column()</a>, and <a class="el" href="server_8c_source.html#l00160">trim()</a>.</p>

<p>Referenced by <a class="el" href="server_8c_source.html#l00595">parse_predicates()</a>.</p>

</div>
</div>
<a class="anchor" id="a3d464ce1a95d6883220042500f998eb7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int check_predicates </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>predicates</em>[MAX_VALUE_LEN], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>table_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>mycolumns</em>[MAX_TABLES][MAX_COLUMNS_PER_TABLE][MAX_COLNAME_LEN], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>column_types</em>[MAX_TABLES][MAX_COLUMNS_PER_TABLE][10], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_pred</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if all the predicates in the string are formatted correctly. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">predicates</td><td>predicates to parse </td></tr>
    <tr><td class="paramname">num_columns</td><td>number of columns for the table </td></tr>
    <tr><td class="paramname">table_num</td><td>index of the table parsing </td></tr>
    <tr><td class="paramname">mycolumns</td><td>names of the columns </td></tr>
    <tr><td class="paramname">column_types</td><td>types of the columns </td></tr>
    <tr><td class="paramname">num_pred</td><td>number of predicates to parse </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns true(1) if parses correctly, false(-1) if it doesn't </dd></dl>

<p>Definition at line <a class="el" href="server_8c_source.html#l00455">455</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

<p>References <a class="el" href="server_8c_source.html#l00073">get_column_type()</a>, <a class="el" href="utils_8c_source.html#l00168">get_param()</a>, <a class="el" href="storage_8h_source.html#l00034">MAX_COLNAME_LEN</a>, <a class="el" href="storage_8h_source.html#l00036">MAX_VALUE_LEN</a>, <a class="el" href="server_8c_source.html#l00103">split_query_get_column()</a>, <a class="el" href="server_8c_source.html#l00132">split_query_get_value()</a>, and <a class="el" href="server_8c_source.html#l00160">trim()</a>.</p>

<p>Referenced by <a class="el" href="server_8c_source.html#l00595">parse_predicates()</a>.</p>

</div>
</div>
<a class="anchor" id="af53cf2c3031be8151cbc8f6833effef0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* delete_command </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>key_to_delete</em>[MAX_KEY_LEN], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>first_empty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>table_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>mycolumns</em>[MAX_TABLES][MAX_COLUMNS_PER_TABLE][MAX_COLNAME_LEN]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete the item in the server based on key_to_delete. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key_to_delete</td><td>key to set </td></tr>
    <tr><td class="paramname">first_empty</td><td>index of the first empty spot in keys &amp; values </td></tr>
    <tr><td class="paramname">table_num</td><td>index of the table parsing </td></tr>
    <tr><td class="paramname">num_columns</td><td>number of columns in the table </td></tr>
    <tr><td class="paramname">mycolumns</td><td>names of the columns </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns success string if it works (ERR_KEY_NOT_FOUND if key_to_delete DNE in keys) </dd></dl>

<p>Definition at line <a class="el" href="server_8c_source.html#l01267">1267</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

<p>References <a class="el" href="storage_8h_source.html#l00036">MAX_VALUE_LEN</a>, and <a class="el" href="utils_8h_source.html#l00100">server_record::metadata</a>.</p>

<p>Referenced by <a class="el" href="server_8c_source.html#l01369">handle_command()</a>.</p>

</div>
</div>
<a class="anchor" id="ad8349c60c5abdbf00dcab7345afa05e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_column_index </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>column_name</em>[MAX_COLNAME_LEN], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>mycolumns</em>[MAX_TABLES][MAX_COLUMNS_PER_TABLE][MAX_COLNAME_LEN], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>table_num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the index of the column based on the column name given. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">column_name</td><td>column name to find the type for </td></tr>
    <tr><td class="paramname">mycolumns</td><td>names of the columns </td></tr>
    <tr><td class="paramname">table_num</td><td>index of the table parsing </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return the index of the column name given </dd></dl>

<p>Definition at line <a class="el" href="server_8c_source.html#l00906">906</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

<p>References <a class="el" href="storage_8h_source.html#l00033">MAX_COLUMNS_PER_TABLE</a>.</p>

<p>Referenced by <a class="el" href="server_8c_source.html#l01084">predicates_true()</a>.</p>

</div>
</div>
<a class="anchor" id="abd2fb51ab5a17288cdf4d0c2ffc6beb3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* get_column_type </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>column_name</em>[MAX_COLNAME_LEN], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>table_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>mycolumns</em>[MAX_TABLES][MAX_COLUMNS_PER_TABLE][MAX_COLNAME_LEN], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>column_types</em>[MAX_TABLES][MAX_COLUMNS_PER_TABLE][10]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the name of the column based on name given to search for. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">column_name</td><td>column name to find the type for </td></tr>
    <tr><td class="paramname">num_columns</td><td>number of columns for the table </td></tr>
    <tr><td class="paramname">table_num</td><td>index of the table parsing </td></tr>
    <tr><td class="paramname">mycolumns</td><td>names of the columns </td></tr>
    <tr><td class="paramname">column_types</td><td>types of the columns </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return string of type of the column </dd></dl>

<p>Definition at line <a class="el" href="server_8c_source.html#l00073">73</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

<p>Referenced by <a class="el" href="server_8c_source.html#l00455">check_predicates()</a>.</p>

</div>
</div>
<a class="anchor" id="af514264bb0a833600274010d575cdcc1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void get_command </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>key_to_get</em>[MAX_KEY_LEN], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>value_to_get</em>[MAX_VALUE_LEN], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>first_empty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>table_num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the specified value based on the key_to_get. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key_to_get</td><td>key to serach for in keys </td></tr>
    <tr><td class="paramname">value_to_get</td><td>value to get </td></tr>
    <tr><td class="paramname">first_empty</td><td>index of the first empty spot in keys &amp; values </td></tr>
    <tr><td class="paramname">table_num</td><td>which table the get is being preformed on </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns the value of the search (ERR_KEY_NOT_FOUND if it DNE) </dd></dl>

<p>Definition at line <a class="el" href="server_8c_source.html#l00622">622</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

<p>References <a class="el" href="utils_8h_source.html#l00028">MAX_CMD_LEN</a>, and <a class="el" href="storage_8h_source.html#l00036">MAX_VALUE_LEN</a>.</p>

<p>Referenced by <a class="el" href="server_8c_source.html#l01369">handle_command()</a>.</p>

</div>
</div>
<a class="anchor" id="a9776ce9ec28df0e16fba102c8c0f44c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int handle_command </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>cmd</em>[MAX_CMD_LEN], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>auth_var</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process a command from the client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>The socket connected to the client. </td></tr>
    <tr><td class="paramname">cmd</td><td>The command received from the client. </td></tr>
    <tr><td class="paramname">*auth_var</td><td>variable that keeps track if client is authorized or not </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 on success, -1 otherwise. </dd></dl>

<p>Definition at line <a class="el" href="server_8c_source.html#l01369">1369</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

<p>References <a class="el" href="server_8c_source.html#l01267">delete_command()</a>, <a class="el" href="server_8c_source.html#l00622">get_command()</a>, <a class="el" href="utils_8c_source.html#l00168">get_param()</a>, <a class="el" href="server_8c_source.html#l00210">has_table()</a>, <a class="el" href="server_8c_source.html#l00047">key_exist()</a>, <a class="el" href="utils_8h_source.html#l00028">MAX_CMD_LEN</a>, <a class="el" href="storage_8h_source.html#l00020">MAX_ENC_PASSWORD_LEN</a>, <a class="el" href="storage_8h_source.html#l00029">MAX_KEY_LEN</a>, <a class="el" href="storage_8h_source.html#l00023">MAX_PATH_LEN</a>, <a class="el" href="storage_8h_source.html#l00028">MAX_TABLE_LEN</a>, <a class="el" href="storage_8h_source.html#l00019">MAX_USERNAME_LEN</a>, <a class="el" href="storage_8h_source.html#l00036">MAX_VALUE_LEN</a>, <a class="el" href="server_8c_source.html#l00595">parse_predicates()</a>, <a class="el" href="server_8c_source.html#l00427">parse_value()</a>, <a class="el" href="utils_8h_source.html#l00064">config_params::password</a>, <a class="el" href="server_8c_source.html#l01154">query_command()</a>, <a class="el" href="utils_8c_source.html#l00032">sendall()</a>, <a class="el" href="server_8c_source.html#l00773">set_command()</a>, <a class="el" href="server_8c_source.html#l00160">trim()</a>, <a class="el" href="server_8c_source.html#l00874">update_command()</a>, and <a class="el" href="utils_8h_source.html#l00061">config_params::username</a>.</p>

<p>Referenced by <a class="el" href="server_8c_source.html#l01879">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a987d9928862a44ca91238947d84362f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int has_column </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>col_to_search</em>[MAX_COLNAME_LEN], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>mycolumns</em>[MAX_TABLES][MAX_COLUMNS_PER_TABLE][MAX_COLNAME_LEN], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>table_num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if table exists in the server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">col_to_search</td><td>column name to search for </td></tr>
    <tr><td class="paramname">mycolumns</td><td>names of all the columns of all the tables </td></tr>
    <tr><td class="paramname">num_columns</td><td>number of columns for the table </td></tr>
    <tr><td class="paramname">table_num</td><td>index of the table that is being parsed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns column index if it exists, -1 if it doesn't </dd></dl>

<p>Definition at line <a class="el" href="server_8c_source.html#l00235">235</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

<p>Referenced by <a class="el" href="server_8c_source.html#l00514">check_mycolumns_pred()</a>.</p>

</div>
</div>
<a class="anchor" id="a26122d608fea873614895976a63dea05"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int has_table </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>table_name</em>[MAX_TABLE_LEN]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if table exists in the server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table_name</td><td>table name to search for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns table index if it exists, false(0) if it doesn't </dd></dl>

<p>Definition at line <a class="el" href="server_8c_source.html#l00210">210</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

<p>Referenced by <a class="el" href="server_8c_source.html#l01369">handle_command()</a>.</p>

</div>
</div>
<a class="anchor" id="ac4345ba7989eed70b19d584d8df55d7e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int key_exist </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>key_to_search_for</em>[MAX_KEY_LEN], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>first_empty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>table_num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if key exists in the server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key_to_search</td><td>key to search for in server </td></tr>
    <tr><td class="paramname">first_empty</td><td>index of the first empty spot in keys &amp; values </td></tr>
    <tr><td class="paramname">table_num</td><td>the table to search the key for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns index of record with matching key if it exists, false(-1) if it doesn't </dd></dl>

<p>Definition at line <a class="el" href="server_8c_source.html#l00047">47</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

<p>Referenced by <a class="el" href="server_8c_source.html#l01369">handle_command()</a>.</p>

</div>
</div>
<a class="anchor" id="a0ddf1224851353fc92bfbff6f499fa97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the storage server. </p>
<p>This is the main entry point for the storage server. It reads the configuration file, starts listening on a port, and proccesses commands from clients. </p>

<p>Definition at line <a class="el" href="server_8c_source.html#l01879">1879</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

<p>References <a class="el" href="utils_8h_source.html#l00115">arguements::clientaddr_</a>, <a class="el" href="utils_8h_source.html#l00118">arguements::clientaddrlen_</a>, <a class="el" href="server_8c_source.html#l01369">handle_command()</a>, <a class="el" href="utils_8c_source.html#l00131">logger()</a>, <a class="el" href="utils_8h_source.html#l00028">MAX_CMD_LEN</a>, <a class="el" href="server_8c_source.html#l00031">MAX_LISTENQUEUELEN</a>, <a class="el" href="storage_8h_source.html#l00027">MAX_RECORDS_PER_TABLE</a>, <a class="el" href="storage_8h_source.html#l00026">MAX_TABLES</a>, <a class="el" href="utils_8c_source.html#l00081">read_config()</a>, <a class="el" href="utils_8c_source.html#l00052">recvline()</a>, <a class="el" href="utils_8h_source.html#l00055">config_params::server_host</a>, <a class="el" href="utils_8h_source.html#l00058">config_params::server_port</a>, and <a class="el" href="utils_8h_source.html#l00112">arguements::sock_</a>.</p>

</div>
</div>
<a class="anchor" id="aca78ee0cd989674d75af0350dd141319"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int num_col_val </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>val_to_set</em>[MAX_VALUE_LEN], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_columns</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the value has the correct number of columns. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val_to_set</td><td>value to parse </td></tr>
    <tr><td class="paramname">num_columns</td><td>number of columns for the table </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns true(1) if right number of columns, false(-1) if it doesn't </dd></dl>

<p>Definition at line <a class="el" href="server_8c_source.html#l00391">391</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

<p>References <a class="el" href="utils_8c_source.html#l00168">get_param()</a>, and <a class="el" href="storage_8h_source.html#l00036">MAX_VALUE_LEN</a>.</p>

<p>Referenced by <a class="el" href="server_8c_source.html#l00427">parse_value()</a>.</p>

</div>
</div>
<a class="anchor" id="ad9859876442b8f4c102395051e87a818"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int num_of_predicates </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>predicates</em>[MAX_VALUE_LEN], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_columns</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the predicate string has the correct number of predicates. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">predicates</td><td>predicates to parse </td></tr>
    <tr><td class="paramname">num_columns</td><td>number of columns for the table </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns number of predicates if right number of predicates, false(-1) if there are too many </dd></dl>

<p>Definition at line <a class="el" href="server_8c_source.html#l00558">558</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

<p>References <a class="el" href="utils_8c_source.html#l00168">get_param()</a>, and <a class="el" href="storage_8h_source.html#l00036">MAX_VALUE_LEN</a>.</p>

<p>Referenced by <a class="el" href="server_8c_source.html#l00595">parse_predicates()</a>.</p>

</div>
</div>
<a class="anchor" id="adbcf898f1e1bcdf0a798e15fe0cdfb4c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int parse_predicates </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>predicates</em>[MAX_VALUE_LEN], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>table_num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Umbrella function for all predicate parsing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">predicates</td><td>predicates to parse </td></tr>
    <tr><td class="paramname">table_num</td><td>index of the table parsing </td></tr>
    <tr><td class="paramname">params</td><td>config parameters from config file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns true(1) if matches all parsing, false(0) if it doesn't </dd></dl>

<p>Definition at line <a class="el" href="server_8c_source.html#l00595">595</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

<p>References <a class="el" href="server_8c_source.html#l00514">check_mycolumns_pred()</a>, <a class="el" href="server_8c_source.html#l00455">check_predicates()</a>, and <a class="el" href="server_8c_source.html#l00558">num_of_predicates()</a>.</p>

<p>Referenced by <a class="el" href="server_8c_source.html#l01369">handle_command()</a>.</p>

</div>
</div>
<a class="anchor" id="acd5ca6d0d7a4ef941fc7fb68fcfc84a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int parse_value </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>val_to_set</em>[MAX_VALUE_LEN], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>table_num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if the value passes all parsing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val_to_set</td><td>value to parse </td></tr>
    <tr><td class="paramname">table_num</td><td>table index for the parsing </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns true(1) if matches all parsing, false(-1) if it doesn't </dd></dl>

<p>Definition at line <a class="el" href="server_8c_source.html#l00427">427</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

<p>References <a class="el" href="server_8c_source.html#l00260">check_column_types()</a>, <a class="el" href="server_8c_source.html#l00360">check_mycolumns()</a>, and <a class="el" href="server_8c_source.html#l00391">num_col_val()</a>.</p>

<p>Referenced by <a class="el" href="server_8c_source.html#l01369">handle_command()</a>.</p>

</div>
</div>
<a class="anchor" id="a519be3c2060d135f0e4690cace0dd1e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int predicate_true </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>predicate</em>[MAX_VALUE_LEN], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>table_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>column_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>row_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>column_types</em>[MAX_TABLES][MAX_COLUMNS_PER_TABLE][10]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the value in the row index and column index passes the predicate. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">predicate</td><td>predicate to test for true or false </td></tr>
    <tr><td class="paramname">table_num</td><td>index of the table parsing </td></tr>
    <tr><td class="paramname">column_index</td><td>index of the column to check the predicate for </td></tr>
    <tr><td class="paramname">row_index</td><td>index of the row to check the predicate for </td></tr>
    <tr><td class="paramname">column_types</td><td>types of the columns </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns true(1) if the predicate is true, false(0) if it doesn't </dd></dl>

<p>Definition at line <a class="el" href="server_8c_source.html#l00928">928</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

<p>References <a class="el" href="utils_8c_source.html#l00168">get_param()</a>, <a class="el" href="storage_8h_source.html#l00036">MAX_VALUE_LEN</a>, and <a class="el" href="server_8c_source.html#l00132">split_query_get_value()</a>.</p>

<p>Referenced by <a class="el" href="server_8c_source.html#l01084">predicates_true()</a>.</p>

</div>
</div>
<a class="anchor" id="a4264cba8f8610bb4ddc9046cd7c9e00e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int predicates_true </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>predicates</em>[MAX_VALUE_LEN], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>table_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>mycolumns</em>[MAX_TABLES][MAX_COLUMNS_PER_TABLE][MAX_COLNAME_LEN], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>column_types</em>[MAX_TABLES][MAX_COLUMNS_PER_TABLE][10], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>row_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the value in the row index and column index passes the predicates. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">predicates</td><td>predicates to check if true or false </td></tr>
    <tr><td class="paramname">numcolumns</td><td>number of columns in the table </td></tr>
    <tr><td class="paramname">table_num</td><td>index of the table parsing </td></tr>
    <tr><td class="paramname">mycolumns</td><td>names of the columns </td></tr>
    <tr><td class="paramname">column_types</td><td>types of the columns </td></tr>
    <tr><td class="paramname">row_index</td><td>index of the row to check the predicate for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns true(1) if the predicate is true, false(0) if it doesn't </dd></dl>

<p>Definition at line <a class="el" href="server_8c_source.html#l01084">1084</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

<p>References <a class="el" href="server_8c_source.html#l00906">get_column_index()</a>, <a class="el" href="utils_8c_source.html#l00168">get_param()</a>, <a class="el" href="storage_8h_source.html#l00034">MAX_COLNAME_LEN</a>, <a class="el" href="storage_8h_source.html#l00036">MAX_VALUE_LEN</a>, <a class="el" href="server_8c_source.html#l00928">predicate_true()</a>, <a class="el" href="server_8c_source.html#l00103">split_query_get_column()</a>, and <a class="el" href="server_8c_source.html#l00160">trim()</a>.</p>

<p>Referenced by <a class="el" href="server_8c_source.html#l01154">query_command()</a>.</p>

</div>
</div>
<a class="anchor" id="a4ec1795948f7486ad7eefbf10cf1b8ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int query_command </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>predicates</em>[MAX_VALUE_LEN], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>first_empty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>table_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>mycolumns</em>[MAX_TABLES][MAX_COLUMNS_PER_TABLE][MAX_COLNAME_LEN], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>column_types</em>[MAX_TABLES][MAX_COLUMNS_PER_TABLE][10]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Query the table for matching values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>The socket connected to the client. </td></tr>
    <tr><td class="paramname">predicates</td><td>predicates to check if true or false </td></tr>
    <tr><td class="paramname">first_empty</td><td>index of the first empty spot in keys &amp; values </td></tr>
    <tr><td class="paramname">table_num</td><td>index of the table parsing </td></tr>
    <tr><td class="paramname">numcolumns</td><td>number of columns in the table </td></tr>
    <tr><td class="paramname">mycolumns</td><td>names of the columns </td></tr>
    <tr><td class="paramname">column_types</td><td>types of the columns </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns the status for the server </dd></dl>

<p>Definition at line <a class="el" href="server_8c_source.html#l01154">1154</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

<p>References <a class="el" href="utils_8h_source.html#l00028">MAX_CMD_LEN</a>, <a class="el" href="storage_8h_source.html#l00027">MAX_RECORDS_PER_TABLE</a>, <a class="el" href="server_8c_source.html#l01084">predicates_true()</a>, <a class="el" href="utils_8c_source.html#l00052">recvline()</a>, and <a class="el" href="utils_8c_source.html#l00032">sendall()</a>.</p>

<p>Referenced by <a class="el" href="server_8c_source.html#l01369">handle_command()</a>.</p>

</div>
</div>
<a class="anchor" id="a309d3355e6dbf8291c56a848b0ec5c31"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* set_command </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>key_to_set</em>[MAX_KEY_LEN], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>value_to_set</em>[MAX_VALUE_LEN], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>first_empty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>table_num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the item using key_to_set and value_to_set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key_to_set</td><td>key to set </td></tr>
    <tr><td class="paramname">value_to_set</td><td>value to set </td></tr>
    <tr><td class="paramname">first_empty</td><td>index of the first empty spot in keys &amp; values </td></tr>
    <tr><td class="paramname">table_num</td><td>index of the table parsing </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns success string if it works (ERR_UNKNOWN if table already at max) </dd></dl>

<p>Definition at line <a class="el" href="server_8c_source.html#l00773">773</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

<p>References <a class="el" href="storage_8h_source.html#l00027">MAX_RECORDS_PER_TABLE</a>, and <a class="el" href="utils_8h_source.html#l00100">server_record::metadata</a>.</p>

<p>Referenced by <a class="el" href="server_8c_source.html#l01369">handle_command()</a>.</p>

</div>
</div>
<a class="anchor" id="a6d7947e031e9aefdd998ebb9872b0a89"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void split_query_get_column </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>pred</em>[MAX_VALUE_LEN], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>ret</em>[MAX_VALUE_LEN]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the column name from a query predicate. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pred</td><td>predicate to get the column out of </td></tr>
    <tr><td class="paramname">ret</td><td>string to return the column name too </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>no return value </dd></dl>

<p>Definition at line <a class="el" href="server_8c_source.html#l00103">103</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

<p>References <a class="el" href="utils_8c_source.html#l00168">get_param()</a>, and <a class="el" href="storage_8h_source.html#l00036">MAX_VALUE_LEN</a>.</p>

<p>Referenced by <a class="el" href="server_8c_source.html#l00514">check_mycolumns_pred()</a>, <a class="el" href="server_8c_source.html#l00455">check_predicates()</a>, and <a class="el" href="server_8c_source.html#l01084">predicates_true()</a>.</p>

</div>
</div>
<a class="anchor" id="aa95f1890335c4fc794e4566d8ae3ad61"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void split_query_get_value </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>pred</em>[MAX_VALUE_LEN], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>ret</em>[MAX_VALUE_LEN]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the comparison value from a query predicate. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pred</td><td>predicate to get the value out of </td></tr>
    <tr><td class="paramname">ret</td><td>string to return the column name too </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>no return value </dd></dl>

<p>Definition at line <a class="el" href="server_8c_source.html#l00132">132</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

<p>References <a class="el" href="utils_8c_source.html#l00168">get_param()</a>, and <a class="el" href="storage_8h_source.html#l00036">MAX_VALUE_LEN</a>.</p>

<p>Referenced by <a class="el" href="server_8c_source.html#l00455">check_predicates()</a>, and <a class="el" href="server_8c_source.html#l00928">predicate_true()</a>.</p>

</div>
</div>
<a class="anchor" id="a06798d058792d39a2eb6f3b784ae1532"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* trim </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove whitespace from beginning and end of string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>string to remove leading and trailing whitespace from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>trimmed version of the string </dd></dl>

<p>Definition at line <a class="el" href="server_8c_source.html#l00160">160</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

<p>Referenced by <a class="el" href="server_8c_source.html#l00514">check_mycolumns_pred()</a>, <a class="el" href="server_8c_source.html#l00455">check_predicates()</a>, <a class="el" href="server_8c_source.html#l01369">handle_command()</a>, and <a class="el" href="server_8c_source.html#l01084">predicates_true()</a>.</p>

</div>
</div>
<a class="anchor" id="a28f4d703d02316c3d135d6b7f0c5bcf5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* update_command </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>key_to_update</em>[MAX_KEY_LEN], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>value_to_update</em>[MAX_VALUE_LEN], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>record_loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>table_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long int&#160;</td>
          <td class="paramname"><em>meta_data_recieved</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the item using key_to_set and value_to_set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key_to_update</td><td>key to set </td></tr>
    <tr><td class="paramname">value_to_update</td><td>value to set </td></tr>
    <tr><td class="paramname">record_loc</td><td>index of the record to update </td></tr>
    <tr><td class="paramname">table_num</td><td>index of the table parsing </td></tr>
    <tr><td class="paramname">meta_data_recieved</td><td>meta data recieved from client </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns success string if it works (always successful, due to <a class="el" href="server_8c.html#ac4345ba7989eed70b19d584d8df55d7e" title="Check if key exists in the server.">key_exist()</a> check) </dd></dl>

<p>Definition at line <a class="el" href="server_8c_source.html#l00874">874</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

<p>References <a class="el" href="utils_8h_source.html#l00100">server_record::metadata</a>.</p>

<p>Referenced by <a class="el" href="server_8c_source.html#l01369">handle_command()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Apr 12 2014 12:34:29 for ECE297 Storage Server by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
